<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è üíñ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --pink: #ff2d55;
            --pink-soft: #ff6b8a;
            --pink-pastel: #ffc2d4;
            --silver: #c0c0c0;
            --bg: #000;
            --card-border: rgba(255,255,255,0.08);
            --emoji-opacity: 0.55;
            --emoji-brightness: 0.75;
        }

        *, *::before, *::after {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;
            background: var(--bg);
            color: #fff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* ============================================
           EMOJI DIMMING ‚Äî global
           ============================================ */
        .e {
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
            display: inline-block;
        }

        /* ============================================
           PREMIUM BACKGROUND ‚Äî lightweight
           no blur, just gradients
           ============================================ */
        .bg-layer {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background:
                radial-gradient(ellipse 600px 600px at 10% 10%, rgba(255,45,85,0.12) 0%, transparent 60%),
                radial-gradient(ellipse 500px 500px at 90% 30%, rgba(140,80,160,0.08) 0%, transparent 60%),
                radial-gradient(ellipse 400px 400px at 20% 80%, rgba(255,107,138,0.1) 0%, transparent 60%),
                radial-gradient(ellipse 350px 350px at 80% 90%, rgba(192,192,192,0.06) 0%, transparent 60%),
                radial-gradient(ellipse 300px 300px at 50% 50%, rgba(255,45,85,0.05) 0%, transparent 60%);
        }

        /* Subtle animated gradient overlay */
        .bg-shimmer {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background: linear-gradient(
                135deg,
                rgba(255,45,85,0.03) 0%,
                transparent 40%,
                rgba(192,192,192,0.03) 60%,
                transparent 100%
            );
            background-size: 400% 400%;
            animation: shimmerBG 20s ease infinite;
        }

        @keyframes shimmerBG {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        /* Fine grain texture */
        .bg-grain {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            opacity: 0.015;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
        }

        /* ============================================
           SCROLL REVEAL ‚Äî lightweight
           ============================================ */
        .sr {
            opacity: 0;
            transform: translate3d(0, 28px, 0);
            transition: opacity 0.65s ease, transform 0.65s cubic-bezier(0.22, 1, 0.36, 1);
            will-change: opacity, transform;
        }
        .sr-s {
            opacity: 0;
            transform: scale3d(0.94, 0.94, 1);
            transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .sr-l {
            opacity: 0;
            transform: translate3d(-24px, 0, 0);
            transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .sr-r {
            opacity: 0;
            transform: translate3d(24px, 0, 0);
            transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .sr.v, .sr-s.v, .sr-l.v, .sr-r.v {
            opacity: 1;
            transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
        }

        .d1 { transition-delay: 0.08s; }
        .d2 { transition-delay: 0.16s; }
        .d3 { transition-delay: 0.24s; }
        .d4 { transition-delay: 0.32s; }

        /* ============================================
           TRANSPARENT CARDS ‚Äî radius 13
           ============================================ */
        .card {
            background: transparent;
            border-radius: 13px;
            border: 1px solid var(--card-border);
            padding: 22px;
            margin-bottom: 14px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .card:active { transform: scale(0.98); }

        .card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 0.5px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        }

        .card-accent {
            border-color: rgba(255,45,85,0.12);
        }

        .card-accent::before {
            background: linear-gradient(90deg, transparent, rgba(255,45,85,0.15), transparent);
        }

        /* ============================================
           HERO
           ============================================ */
        .hero {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 24px 40px;
            position: relative;
            z-index: 2;
        }

        .hero-photo-card {
            position: relative;
            width: 100%;
            max-width: 340px;
            aspect-ratio: 3 / 4;
            border-radius: 28px;
            overflow: hidden;
            box-shadow: 0 24px 48px -12px rgba(0,0,0,0.6);
        }

        .hero-img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(
                to top,
                rgba(0,0,0,0.85) 0%,
                rgba(0,0,0,0.5) 35%,
                rgba(0,0,0,0.15) 60%,
                rgba(0,0,0,0.05) 100%
            );
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            padding: 32px 24px;
            text-align: center;
        }

        .hero-main-title {
            font-family: 'Caveat', cursive;
            font-size: 44px;
            font-weight: 700;
            line-height: 1.15;
            color: #fff;
            text-shadow: 0 2px 20px rgba(0,0,0,0.5);
            margin-bottom: 12px;
        }

        .hero-sub {
            font-size: 14px;
            color: rgba(255,255,255,0.6);
            font-weight: 400;
            letter-spacing: 0.3px;
        }

        .hero-citation {
            font-family: 'Cormorant Garamond', serif;
            font-size: 16px;
            font-style: italic;
            color: rgba(255,255,255,0.65);
            margin-top: 16px;
            line-height: 1.5;
            max-width: 280px;
        }

        .scroll-down {
            margin-top: 32px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            animation: softBounce 2.5s ease-in-out infinite;
        }

        .scroll-down span {
            font-size: 10px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.25);
        }

        .scroll-chevron {
            width: 16px; height: 16px;
            border-right: 1.5px solid rgba(255,255,255,0.25);
            border-bottom: 1.5px solid rgba(255,255,255,0.25);
            transform: rotate(45deg);
        }

        @keyframes softBounce {
            0%,100% { transform: translateY(0); }
            50% { transform: translateY(6px); }
        }

        /* ============================================
           WRAPPER
           ============================================ */
        .wrap {
            position: relative;
            z-index: 2;
            max-width: 428px;
            margin: 0 auto;
            padding: 0 20px 40px;
        }

        /* ============================================
           SECTION HEADERS
           ============================================ */
        .sh {
            margin: 52px 0 18px;
            text-align: center;
        }

        .sh-label {
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--pink);
            font-weight: 600;
            margin-bottom: 6px;
        }

        .sh-label .e {
            margin-right: 2px;
        }

        .sh-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 28px;
            font-weight: 600;
            color: #fff;
        }

        /* ============================================
           ENVELOPE ‚Äî fixed centering
           ============================================ */
        .env-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 0;
        }

        .envelope {
            width: 270px;
            height: 180px;
            position: relative;
            cursor: pointer;
        }

        .env-body {
            width: 100%;
            height: 100%;
            border-radius: 13px;
            background: linear-gradient(145deg, rgba(40,20,28,0.95), rgba(22,10,16,0.95));
            border: 1px solid rgba(255,194,212,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            position: relative;
            overflow: visible;
        }

        .env-flap {
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 85px;
            background: linear-gradient(145deg, rgba(50,24,34,0.95), rgba(30,14,20,0.95));
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            transform-origin: top center;
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 5;
        }

        .envelope.open .env-flap {
            transform: rotateX(180deg);
        }

        .env-seal {
            position: absolute;
            top: 26px; left: 50%;
            transform: translateX(-50%);
            font-size: 22px;
            z-index: 6;
            transition: opacity 0.4s;
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
        }

        .envelope.open .env-seal { opacity: 0; }

        /* Letter pops out centered ABOVE envelope */
        .env-letter {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 230px;
            transform: translate(-50%, -50%);
            background: rgba(28,28,30,0.92);
            border-radius: 13px;
            padding: 20px 16px;
            border: 1px solid rgba(255,255,255,0.08);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.25s;
            z-index: 10;
            pointer-events: none;
        }

        .envelope.open .env-letter {
            opacity: 1;
            transform: translate(-50%, calc(-50% - 100px));
            pointer-events: auto;
        }

        .env-letter p {
            font-family: 'Cormorant Garamond', serif;
            font-size: 14px;
            font-style: italic;
            line-height: 1.6;
            color: rgba(255,255,255,0.8);
            text-align: center;
        }

        .env-hint {
            margin-top: 14px;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.2);
        }

        /* ============================================
           ABOUT (PHOTO 2)
           ============================================ */
        .about-img {
            width: 100%;
            aspect-ratio: 4/5;
            border-radius: 13px;
            overflow: hidden;
            position: relative;
            border: 1px solid var(--card-border);
            box-shadow: 0 16px 40px rgba(0,0,0,0.4);
            margin-bottom: 14px;
        }

        .about-img img {
            width: 100%; height: 100%;
            object-fit: cover;
        }

        .about-img-caption {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            padding: 22px;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%);
        }

        .about-img-caption h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 20px;
            font-weight: 600;
        }

        .about-img-caption p {
            font-size: 12px;
            color: rgba(255,255,255,0.5);
            margin-top: 3px;
        }

        /* ============================================
           QUOTES SCROLL
           ============================================ */
        .q-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 4px 4px 14px;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .q-scroll::-webkit-scrollbar { display: none; }

        .q-item {
            flex: 0 0 270px;
            scroll-snap-align: center;
            padding: 24px 20px;
            text-align: center;
        }

        .q-icon {
            font-size: 24px;
            margin-bottom: 12px;
            display: block;
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
        }

        .q-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 17px;
            font-style: italic;
            line-height: 1.5;
            color: rgba(255,255,255,0.8);
            margin-bottom: 12px;
        }

        .q-line {
            width: 20px; height: 1px;
            background: var(--pink);
            margin: 0 auto 8px;
            opacity: 0.3;
        }

        .q-author {
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: var(--pink-soft);
            font-weight: 500;
        }

        /* ============================================
           GALLERY (3, 4)
           ============================================ */
        .gallery-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .gal-card {
            border-radius: 13px;
            overflow: hidden;
            position: relative;
            aspect-ratio: 3/4;
            border: 1px solid var(--card-border);
        }

        .gal-card img {
            width: 100%; height: 100%;
            object-fit: cover;
        }

        .gal-label {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            padding: 12px;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            font-family: 'Cormorant Garamond', serif;
            font-size: 13px;
            font-style: italic;
        }

        /* ============================================
           INTERESTS
           ============================================ */
        .int-row {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px;
        }

        .int-icon {
            width: 50px; height: 50px; min-width: 50px;
            border-radius: 13px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            background: rgba(255,45,85,0.05);
            border: 1px solid rgba(255,45,85,0.08);
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
        }

        .int-info h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 17px;
            font-weight: 600;
        }

        .int-info p {
            font-size: 11px;
            color: rgba(255,255,255,0.4);
            margin-top: 2px;
            line-height: 1.4;
        }

        /* ============================================
           SINGLE WISH CARD
           ============================================ */
        .wish-single {
            text-align: center;
            padding: 32px 24px;
        }

        .wish-single .e {
            font-size: 36px;
            margin-bottom: 16px;
        }

        .wish-single h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .wish-single p {
            font-family: 'Cormorant Garamond', serif;
            font-size: 16px;
            font-style: italic;
            line-height: 1.6;
            color: rgba(255,255,255,0.65);
        }

        /* ============================================
           COMPLIMENTS
           ============================================ */
        .compl-out {
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Cormorant Garamond', serif;
            font-size: 19px;
            font-style: italic;
            color: var(--pink-pastel);
            text-align: center;
            padding: 14px;
            transition: opacity 0.4s;
        }

        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 13px;
            font-family: inherit;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn:active { transform: scale(0.96); }

        .btn-pink {
            background: var(--pink);
            color: #fff;
        }

        .btn-ghost {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.08);
        }

        /* ============================================
           MAGIC BALL
           ============================================ */
        .ball-area { text-align: center; padding: 16px 0; }

        .m-ball {
            width: 160px; height: 160px;
            margin: 0 auto 14px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 30%, #2e2e48, #0a0a14 75%);
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 16px 40px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .m-ball:active { transform: scale(0.94); }

        .m-ball::before {
            content: '';
            position: absolute;
            top: 12%; left: 18%;
            width: 30%; height: 18%;
            background: radial-gradient(ellipse, rgba(255,255,255,0.08), transparent);
            border-radius: 50%;
            transform: rotate(-25deg);
        }

        .m-ball-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 13px;
            font-style: italic;
            color: rgba(255,255,255,0.85);
            text-align: center;
            width: 100px;
            transition: opacity 0.4s;
        }

        .ball-sub {
            font-size: 10px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.2);
        }

        /* ============================================
           CAKE
           ============================================ */
        .cake-area { text-align: center; padding: 16px 0; }

        .cake-vis {
            position: relative;
            width: 160px; height: 180px;
            margin: 0 auto 16px;
        }

        .cake-b {
            position: absolute;
            bottom: 0;
            width: 160px; height: 90px;
            background: linear-gradient(to bottom, #ffc2d4, #d4789c);
            border-radius: 14px 14px 20px 20px;
        }

        .cake-b::before {
            content: '';
            position: absolute;
            top: -10px; left: 8px; right: 8px; height: 20px;
            background: linear-gradient(to bottom, #fff0f3, #ffc2d4);
            border-radius: 50%;
        }

        .cake-t {
            position: absolute;
            bottom: 82px; left: 20px;
            width: 120px; height: 60px;
            background: linear-gradient(to bottom, #fff5f7, #ffc2d4);
            border-radius: 12px 12px 14px 14px;
        }

        .cdl {
            position: absolute;
            bottom: 138px;
            width: 4px; height: 30px;
            background: linear-gradient(to bottom, #fff, var(--pink-pastel));
            border-radius: 2px;
        }

        .cdl-1 { left: 48px; }
        .cdl-2 { left: 78px; }
        .cdl-3 { left: 108px; }

        .fl {
            position: absolute;
            top: -12px; left: 50%;
            transform: translateX(-50%);
            width: 8px; height: 12px;
            background: radial-gradient(ellipse, #fff 0%, #ffdd57 30%, #ff6b35 70%, transparent 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flick 0.25s infinite alternate;
            transition: opacity 0.3s, transform 0.3s;
        }

        .fl.off {
            opacity: 0;
            transform: translateX(-50%) scale(0);
        }

        @keyframes flick {
            0% { transform: translateX(-50%) scale(1) rotate(-2deg); }
            100% { transform: translateX(-50%) scale(1.06) rotate(2deg); }
        }

        /* ============================================
           SECRET PHOTO (5)
           ============================================ */
        .secret {
            width: 100%;
            aspect-ratio: 3/4;
            border-radius: 13px;
            overflow: hidden;
            position: relative;
            border: 1px solid var(--card-border);
        }

        .secret img {
            width: 100%; height: 100%;
            object-fit: cover;
            filter: blur(20px) brightness(0.25);
            transition: filter 1.5s ease;
        }

        .secret.open img {
            filter: blur(0) brightness(1);
        }

        .secret-cover {
            position: absolute; inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: opacity 0.5s;
        }

        .secret.open .secret-cover {
            opacity: 0;
            pointer-events: none;
        }

        .secret-lock {
            font-size: 38px;
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
            animation: gentlePulse 2s infinite;
        }

        @keyframes gentlePulse {
            0%,100% { transform: scale(1); }
            50% { transform: scale(0.95); opacity: 0.4; }
        }

        .secret-txt {
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.3);
        }

        .hold-prog {
            position: absolute;
            bottom: 0; left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--pink), var(--pink-soft));
            width: 0%;
            z-index: 5;
            transition: width 0.05s linear;
        }

        /* ============================================
           LOVE COUNTER
           ============================================ */
        .love-big {
            font-family: 'Cormorant Garamond', serif;
            font-size: 48px;
            font-weight: 700;
            color: var(--pink);
            text-align: center;
            display: block;
        }

        .love-sub {
            font-size: 13px;
            color: rgba(255,255,255,0.45);
            text-align: center;
            display: block;
            margin-top: 4px;
        }

        .love-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 18px;
        }

        .love-cell {
            text-align: center;
            padding: 10px 4px;
            border-radius: 13px;
            border: 1px solid rgba(255,255,255,0.04);
        }

        .love-cell-num {
            font-family: 'Cormorant Garamond', serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--pink);
        }

        .love-cell-label {
            font-size: 9px;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.25);
            margin-top: 2px;
        }

        /* ============================================
           FINALE
           ============================================ */
        .finale {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 24px;
            position: relative;
            z-index: 2;
        }

        .finale-glow {
            position: absolute; inset: 0;
            background: radial-gradient(ellipse at 50% 50%, rgba(255,45,85,0.08) 0%, transparent 65%);
            pointer-events: none;
        }

        .finale-hearts {
            position: absolute; inset: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .fh {
            position: absolute;
            opacity: 0;
            animation: fhUp linear infinite;
        }

        @keyframes fhUp {
            0% { opacity: 0; transform: translateY(100vh) scale(0) rotate(0deg); }
            10% { opacity: 0.35; }
            90% { opacity: 0.2; }
            100% { opacity: 0; transform: translateY(-10vh) scale(1) rotate(360deg); }
        }

        .finale-icon {
            font-size: 50px;
            position: relative;
            z-index: 2;
            opacity: var(--emoji-opacity);
            filter: brightness(var(--emoji-brightness));
            animation: heartPump 1.4s infinite;
        }

        @keyframes heartPump {
            0%,100% { transform: scale(1); }
            14% { transform: scale(1.2); }
            28% { transform: scale(1); }
            42% { transform: scale(1.12); }
        }

        .finale-title {
            font-family: 'Caveat', cursive;
            font-size: 36px;
            font-weight: 700;
            margin: 16px 0 10px;
            position: relative;
            z-index: 2;
            color: var(--pink-pastel);
        }

        .finale-msg {
            font-family: 'Cormorant Garamond', serif;
            font-size: 17px;
            font-style: italic;
            line-height: 1.7;
            color: rgba(255,255,255,0.5);
            max-width: 290px;
            position: relative;
            z-index: 2;
            margin-bottom: 24px;
        }

        .finale-sig {
            position: relative;
            z-index: 2;
        }

        .finale-sig-line {
            width: 30px; height: 1px;
            background: var(--pink);
            margin: 0 auto 8px;
            opacity: 0.3;
        }

        .finale-sig-name {
            font-size: 13px;
            color: var(--pink-soft);
            font-weight: 600;
            letter-spacing: 1px;
        }

        .finale-sig-sub {
            font-size: 10px;
            color: rgba(255,255,255,0.25);
            margin-top: 3px;
        }

        /* ============================================
           BORIS BUTTON ‚Äî hidden, appears after 5s at bottom
           ============================================ */
        .boris-btn-wrap {
            text-align: center;
            margin-top: 40px;
            position: relative;
            z-index: 10;
            opacity: 0;
            transform: translate3d(0, 20px, 0);
            transition: opacity 0.8s ease, transform 0.8s ease;
            pointer-events: none;
        }

        .boris-btn-wrap.visible {
            opacity: 1;
            transform: translate3d(0, 0, 0);
            pointer-events: auto;
        }

        .boris-btn {
            display: inline-block;
            padding: 16px 36px;
            border-radius: 13px;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
            font-family: 'Caveat', cursive;
            font-size: 20px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }

        .boris-btn:active {
            transform: scale(0.95);
            background: rgba(255,255,255,0.05);
        }

        /* ============================================
           CONFETTI ‚Äî lightweight
           ============================================ */
        .conf {
            position: fixed;
            top: -20px;
            z-index: 10000;
            pointer-events: none;
            animation: confFall linear forwards;
        }

        @keyframes confFall {
            0% { opacity: 1; transform: translateY(0) rotate(0deg); }
            100% { opacity: 0; transform: translateY(100vh) rotate(600deg); }
        }
    </style>
</head>
<body>

    <!-- Background layers -->
    <div class="bg-layer"></div>
    <div class="bg-shimmer"></div>
    <div class="bg-grain"></div>

    <!-- Sparkle layer -->
    <div class="sparkle-layer" id="spkLayer" style="position:fixed;inset:0;pointer-events:none;z-index:9998;"></div>

    <!-- ====== HERO ====== -->
    <section class="hero">
        <div class="hero-photo-card sr-s">
            <!-- üîΩ –§–û–¢–û 1 (3:4) -->
            <img src="photo1.jpg" alt="–ú–∞–º–∞" class="hero-img">
            <div class="hero-overlay">
                <h1 class="hero-main-title sr d2">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è<br>–ú–∞–º–æ—á–∫–∞!</h1>
                <p class="hero-citation sr d3">–°–∞–º–æ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π, –Ω–µ–∂–Ω–æ–π –∏&nbsp;–ª—é–±–∏–º–æ–π –∂–µ–Ω—â–∏–Ω–µ –Ω–∞&nbsp;—Å–≤–µ—Ç–µ –ø–æ—Å–≤—è—â–∞–µ—Ç—Å—è‚Ä¶</p>
            </div>
        </div>

        <div class="scroll-down sr d4">
            <span>–ª–∏—Å—Ç–∞–π</span>
            <div class="scroll-chevron"></div>
        </div>
    </section>

    <!-- ====== CONTENT ====== -->
    <div class="wrap">

        <!-- –ö–û–ù–í–ï–†–¢ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üíå</span> –ü–∏—Å—å–º–æ</div>
            <h2 class="sh-title">–û—Ç–∫—Ä–æ–π –∫–æ–Ω–≤–µ—Ä—Ç</h2>
        </div>

        <div class="env-wrap">
            <div class="envelope sr-s d1" id="envelope" onclick="openEnv()">
                <div class="env-body">
                    <div class="env-flap"></div>
                    <div class="env-seal">üíù</div>
                    <div class="env-letter">
                        <p>–î–æ—Ä–æ–≥–∞—è –º–∞–º–æ—á–∫–∞! –¢—ã ‚Äî –Ω–∞—à —Å–≤–µ—Ç, –Ω–∞—à–∞ —Ä–∞–¥–æ—Å—Ç—å –∏ –Ω–∞—à–∞ –æ–ø–æ—Ä–∞. –°–ø–∞—Å–∏–±–æ –∑–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∑–∞ –∫–∞–∂–¥—É—é —É–ª—ã–±–∫—É, –∑–∞ –≤—Å—é —Ç–≤–æ—é –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –ª—é–±–æ–≤—å. –ú—ã —Ç–µ–±—è –æ–±–æ–∂–∞–µ–º! üíï</p>
                    </div>
                </div>
            </div>
            <p class="env-hint sr d2">–ù–∞–∂–º–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç</p>
        </div>

        <!-- –û –¢–ï–ë–ï (–§–û–¢–û 2) -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üåπ</span> –û —Ç–µ–±–µ</div>
            <h2 class="sh-title">–°–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è</h2>
        </div>

        <div class="about-img sr-s d1">
            <!-- üîΩ –§–û–¢–û 2 -->
            <img src="photo2.jpg" alt="–ú–∞–º–∞">
            <div class="about-img-caption">
                <h3>–ö–æ—Ä–æ–ª–µ–≤–∞ –Ω–∞—à–µ–π —Å–µ–º—å–∏ <span class="e">üëë</span></h3>
                <p>–ù–µ–∂–Ω–∞—è, —Å–∏–ª—å–Ω–∞—è, –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è</p>
            </div>
        </div>

        <div class="card card-accent sr d2" style="text-align:center;">
            <p style="font-family:'Cormorant Garamond',serif; font-size:16px; font-style:italic; line-height:1.7; color:rgba(255,255,255,0.7);">
                –¢—ã ‚Äî —Ç–∞, –∫—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—à –¥–æ–º ‚Äî –¥–æ–º–æ–º, –Ω–∞—à—É –∂–∏–∑–Ω—å ‚Äî –∂–∏–∑–Ω—å—é, –∞ –Ω–∞—à–µ —Å—á–∞—Å—Ç—å–µ ‚Äî –Ω–∞—Å—Ç–æ—è—â–∏–º <span class="e">üíó</span>
            </p>
        </div>

        <!-- –¶–ò–¢–ê–¢–´ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üí¨</span> –ú—É–¥—Ä–æ—Å—Ç—å</div>
            <h2 class="sh-title">–¶–∏—Ç–∞—Ç—ã –æ –º–∞–º–µ</h2>
        </div>

        <div class="q-scroll sr d1">
            <div class="card q-item">
                <span class="q-icon">üå∏</span>
                <p class="q-text">¬´–ú–∞–º–∞ ‚Äî —ç—Ç–æ —Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω–∏—Ç –≤—Å–µ—Ö, –Ω–æ –µ—ë –Ω–µ –∑–∞–º–µ–Ω–∏—Ç –Ω–∏–∫—Ç–æ¬ª</p>
                <div class="q-line"></div>
                <span class="q-author">–ù–∞—Ä–æ–¥–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å</span>
            </div>
            <div class="card card-accent q-item">
                <span class="q-icon">üíé</span>
                <p class="q-text">¬´–ë–æ–≥ –Ω–µ –º–æ–≥ –±—ã—Ç—å –≤–µ–∑–¥–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω —Å–æ–∑–¥–∞–ª –º–∞–º—É¬ª</p>
                <div class="q-line"></div>
                <span class="q-author">–ï–≤—Ä–µ–π—Å–∫–∞—è –ø–æ—Å–ª–æ–≤–∏—Ü–∞</span>
            </div>
            <div class="card q-item">
                <span class="q-icon">ü¶ã</span>
                <p class="q-text">¬´–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∞—è –ª—é–±–æ–≤—å ‚Äî —Å–∞–º–∞—è —Å–∏–ª—å–Ω–∞—è —Å–∏–ª–∞ –Ω–∞ –∑–µ–º–ª–µ¬ª</p>
                <div class="q-line"></div>
                <span class="q-author">–ß–∞—Ä–ª—å–∑ –î–∏–∫–∫–µ–Ω—Å</span>
            </div>
            <div class="card card-accent q-item">
                <span class="q-icon">üïäÔ∏è</span>
                <p class="q-text">¬´–°–µ—Ä–¥—Ü–µ –º–∞—Ç–µ—Ä–∏ ‚Äî –±–µ–∑–¥–æ–Ω–Ω–∞—è –ø—Ä–æ–ø–∞—Å—Ç—å, –Ω–∞ –¥–Ω–µ –∫–æ—Ç–æ—Ä–æ–π –≤—Å–µ–≥–¥–∞ –Ω–∞–π–¥—ë—Ç—Å—è –ø—Ä–æ—â–µ–Ω–∏–µ¬ª</p>
                <div class="q-line"></div>
                <span class="q-author">–û–Ω–æ—Ä–µ –¥–µ –ë–∞–ª—å–∑–∞–∫</span>
            </div>
            <div class="card q-item">
                <span class="q-icon">‚≠ê</span>
                <p class="q-text">¬´–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ —Ä—É–∫–∏ ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –Ω–µ–∂–Ω–æ—Å—Ç–∏; –¥–µ—Ç—è–º —Ö–æ—Ä–æ—à–æ —Å–ø–∏—Ç—Å—è –Ω–∞ —ç—Ç–∏—Ö —Ä—É–∫–∞—Ö¬ª</p>
                <div class="q-line"></div>
                <span class="q-author">–í–∏–∫—Ç–æ—Ä –ì—é–≥–æ</span>
            </div>
        </div>

        <!-- –ì–ê–õ–ï–†–ï–Ø (–§–û–¢–û 3, 4) -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üì∏</span> –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</div>
            <h2 class="sh-title">–ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã</h2>
        </div>

        <div class="gallery-2">
            <div class="gal-card sr-l d1">
                <!-- üîΩ –§–û–¢–û 3 -->
                <img src="photo3.jpg" alt="">
                <div class="gal-label">–õ—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã <span class="e">üíï</span></div>
            </div>
            <div class="gal-card sr-r d2">
                <!-- üîΩ –§–û–¢–û 4 -->
                <img src="photo4.jpg" alt="">
                <div class="gal-label">–°—á–∞—Å—Ç—å–µ —Ä—è–¥–æ–º <span class="e">üå∏</span></div>
            </div>
        </div>

        <!-- –ò–ù–¢–ï–†–ï–°–´ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üñ§</span> –õ—é–±–∏–º–æ–µ</div>
            <h2 class="sh-title">–¢–≤–æ–∏ —Å—Ç—Ä–∞—Å—Ç–∏</h2>
        </div>

        <div class="card int-row sr-l d1">
            <div class="int-icon">üêï‚Äçü¶∫</div>
            <div class="int-info">
                <h3>–î–æ–±–µ—Ä–º–∞–Ω</h3>
                <p>–≠–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å, —Å–∏–ª–∞ –∏ –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å</p>
            </div>
        </div>

        <div class="card card-accent int-row sr-r d2">
            <div class="int-icon">üê±</div>
            <div class="int-info">
                <h3>–ö–æ—Ç–∏–∫–∏</h3>
                <p>–ì—Ä–∞—Ü–∏–æ–∑–Ω—ã–µ, –Ω–µ–∂–Ω—ã–µ –∏ –æ–±–∞—è—Ç–µ–ª—å–Ω—ã–µ</p>
            </div>
        </div>

        <div class="card int-row sr-l d3">
            <div class="int-icon">üèéÔ∏è</div>
            <div class="int-info">
                <h3>Mercedes-Benz</h3>
                <p>–¢–æ–ª—å–∫–æ –ª—É—á—à–µ–µ –¥–ª—è –ª—É—á—à–µ–π –º–∞–º—ã</p>
            </div>
        </div>

        <!-- –ü–û–ñ–ï–õ–ê–ù–ò–ï ‚Äî –æ–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üéÅ</span> –ü–æ–∂–µ–ª–∞–Ω–∏–µ</div>
            <h2 class="sh-title">–û—Ç –≤—Å–µ–≥–æ —Å–µ—Ä–¥—Ü–∞</h2>
        </div>

        <div class="card card-accent wish-single sr-s d1">
            <span class="e" style="font-size:36px; margin-bottom:16px;">üëë</span>
            <h3>–¢–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –∂–µ–ª–∞—Ç—å</h3>
            <p>–ü–æ—Ç–æ–º—É —á—Ç–æ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ ‚Äî —Å–µ–º—å—è, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±—è –æ–±–æ–∂–∞–µ—Ç, –¥–æ–º, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ª—é–±–æ–≤—å—é, –∏ —Å–µ—Ä–¥—Ü–µ, –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–∏—Ä –ª—É—á—à–µ. –¢—ã —É–∂–µ –∏–º–µ–µ—à—å –≤—Å—ë, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã ‚Äî —ç—Ç–æ –≤—Å—ë –¥–ª—è –Ω–∞—Å.</p>
        </div>

        <!-- –ö–û–ú–ü–õ–ò–ú–ï–ù–¢ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">‚ú®</span> –ú–∞–≥–∏—è</div>
            <h2 class="sh-title">–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç –¥–ª—è —Ç–µ–±—è</h2>
        </div>

        <div class="card card-accent sr-s d1" style="text-align:center;">
            <div class="compl-out" id="complOut"><span class="e">üå∏</span> –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É</div>
            <button class="btn btn-pink" onclick="genCompl()"><span class="e">‚ú®</span> –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç</button>
        </div>

        <!-- –®–ê–† –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–ô -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üîÆ</span> –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</div>
            <h2 class="sh-title">–ù–∞ —ç—Ç–æ—Ç –≥–æ–¥</h2>
        </div>

        <div class="ball-area sr-s d1">
            <div class="m-ball" id="mBall" onclick="shakeBall()">
                <div class="m-ball-text" id="bText">8</div>
            </div>
            <p class="ball-sub">–ù–∞–∂–º–∏ –Ω–∞ —à–∞—Ä</p>
        </div>

        <!-- –¢–û–†–¢ -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üéÇ</span> –¢–æ—Ä—Ç</div>
            <h2 class="sh-title">–ó–∞–¥—É–π —Å–≤–µ—á–∏!</h2>
        </div>

        <div class="cake-area sr-s d1">
            <div class="cake-vis">
                <div class="cake-t"></div>
                <div class="cake-b"></div>
                <div class="cdl cdl-1"><div class="fl" id="fl1"></div></div>
                <div class="cdl cdl-2"><div class="fl" id="fl2"></div></div>
                <div class="cdl cdl-3"><div class="fl" id="fl3"></div></div>
            </div>
            <button class="btn btn-ghost" onclick="blow()"><span class="e">üå¨Ô∏è</span> –ó–∞–¥—É—Ç—å —Å–≤–µ—á–∏</button>
        </div>

        <!-- –°–ß–Å–¢–ß–ò–ö -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üíù</span> –§–∞–∫—Ç</div>
            <h2 class="sh-title">–ù–∞—à–∞ –ª—é–±–æ–≤—å –≤ —Ü–∏—Ñ—Ä–∞—Ö</h2>
        </div>

        <div class="card card-accent sr-s d1" style="padding:26px;">
            <span class="love-big" id="loveNum">0</span>
            <span class="love-sub">–¥–Ω–µ–π –º—ã —Ç–µ–±—è –ª—é–±–∏–º <span class="e">üíó</span></span>
            <div class="love-grid">
                <div class="love-cell">
                    <div class="love-cell-num">‚àû</div>
                    <div class="love-cell-label">–û–±—ä—è—Ç–∏–π</div>
                </div>
                <div class="love-cell">
                    <div class="love-cell-num">24/7</div>
                    <div class="love-cell-label">–í —Å–µ—Ä–¥—Ü–µ</div>
                </div>
                <div class="love-cell">
                    <div class="love-cell-num">‚Ññ1</div>
                    <div class="love-cell-label">–ú–∞–º–∞</div>
                </div>
            </div>
        </div>

        <!-- –°–ï–ö–†–ï–¢ (–§–û–¢–û 5) -->
        <div class="sh sr">
            <div class="sh-label"><span class="e">üîí</span> –°–µ–∫—Ä–µ—Ç</div>
            <h2 class="sh-title">–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Ñ–æ—Ç–æ</h2>
        </div>

        <div class="secret sr-s d1" id="secretBox">
            <!-- üîΩ –§–û–¢–û 5 -->
            <img src="photo5.jpg" alt="">
            <div class="secret-cover">
                <div class="secret-lock">üîí</div>
                <div class="secret-txt">–£–¥–µ—Ä–∂–∏–≤–∞–π —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å</div>
            </div>
            <div class="hold-prog" id="holdBar"></div>
        </div>

    </div>

    <!-- ====== –§–ò–ù–ê–õ ====== -->
    <section class="finale" id="finaleSection">
        <div class="finale-hearts" id="fHearts"></div>
        <div class="finale-glow"></div>

        <div class="finale-icon sr-s">üíñ</div>
        <h2 class="finale-title sr d1">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h2>
        <p class="finale-msg sr d2">
            –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç—å, –∫–∞–∂–¥—ã–π —á–∞—Å ‚Äî —É–ª—ã–±–∫—É,
            –∞ –∫–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ –ª—é–±–æ–≤—å—é –∏ —Å—á–∞—Å—Ç—å–µ–º.
            <br><br>
            –ú—ã —Ç–µ–±—è –æ—á–µ–Ω—å –ª—é–±–∏–º! <span class="e">üíï</span>
        </p>
        <div class="finale-sig sr d3">
            <div class="finale-sig-line"></div>
            <div class="finale-sig-name">–° –ª—é–±–æ–≤—å—é <span class="e">üíó</span></div>
            <div class="finale-sig-sub">–¢–≤–æ—è —Å–µ–º—å—è –Ω–∞–≤—Å–µ–≥–¥–∞</div>
        </div>

        <!-- –ö–ù–û–ü–ö–ê "–ò –û–¢ –ë–û–†–ò" -->
        <div class="boris-btn-wrap" id="borisWrap">
            <a href="boris.html" class="boris-btn">–ò –æ—Ç –ë–æ—Ä–∏ üíå</a>
        </div>
    </section>


    <script>
        /* ======= SCROLL REVEAL ======= */
        const io = new IntersectionObserver(entries => {
            entries.forEach(e => {
                if (e.isIntersecting) e.target.classList.add('v');
            });
        }, { threshold: 0.08, rootMargin: '0px 0px -30px 0px' });

        document.querySelectorAll('.sr, .sr-s, .sr-l, .sr-r').forEach(el => io.observe(el));

        /* ======= FLOATING HEARTS (finale) ======= */
        (function () {
            const c = document.getElementById('fHearts');
            const h = ['üíñ','üíó','üíï','ü©∑','ü§ç'];
            for (let i = 0; i < 12; i++) {
                const el = document.createElement('div');
                el.className = 'fh';
                el.textContent = h[Math.floor(Math.random() * h.length)];
                el.style.left = Math.random() * 100 + '%';
                el.style.fontSize = (Math.random() * 10 + 10) + 'px';
                el.style.opacity = '0';
                el.style.filter = `brightness(${0.7})`;
                el.style.animationDuration = (Math.random() * 8 + 7) + 's';
                el.style.animationDelay = (Math.random() * 10) + 's';
                c.appendChild(el);
            }
        })();

        /* ======= SPARKLE on touch ======= */
        const spk = document.getElementById('spkLayer');

        function addSpk(x, y) {
            for (let i = 0; i < 3; i++) {
                const s = document.createElement('div');
                s.style.cssText = `
                    position:absolute;
                    border-radius:50%;
                    pointer-events:none;
                    left:${x + (Math.random() - 0.5) * 24}px;
                    top:${y + (Math.random() - 0.5) * 24}px;
                    width:${Math.random() * 4 + 2}px;
                    height:${Math.random() * 4 + 2}px;
                    background:${['#ff2d55','#ffc2d4','#fff','#c0c0c0'][Math.floor(Math.random()*4)]};
                    animation:sparklePop 0.5s ease-out forwards;
                `;
                spk.appendChild(s);
                setTimeout(() => s.remove(), 500);
            }
        }

        const spkStyle = document.createElement('style');
        spkStyle.textContent = `@keyframes sparklePop{0%{opacity:0.7;transform:scale(1);}100%{opacity:0;transform:scale(0) translateY(-12px);}}`;
        document.head.appendChild(spkStyle);

        document.addEventListener('touchmove', e => {
            const t = e.touches[0];
            addSpk(t.clientX, t.clientY);
        }, { passive: true });

        /* ======= CONFETTI ======= */
        function confetti(n) {
            const em = ['üå∏','‚ú®','üíñ','üéÄ','üíï'];
            for (let i = 0; i < n; i++) {
                setTimeout(() => {
                    const c = document.createElement('div');
                    c.className = 'conf';
                    c.textContent = em[Math.floor(Math.random() * em.length)];
                    c.style.left = Math.random() * 100 + 'vw';
                    c.style.fontSize = (Math.random() * 12 + 10) + 'px';
                    c.style.animationDuration = (Math.random() * 2 + 2.5) + 's';
                    c.style.opacity = '0.6';
                    document.body.appendChild(c);
                    setTimeout(() => c.remove(), 5000);
                }, i * 50);
            }
        }

        function vib(p) { if (navigator.vibrate) navigator.vibrate(p); }

        /* ======= ENVELOPE ======= */
        let envOpen = false;
        function openEnv() {
            if (envOpen) return;
            envOpen = true;
            document.getElementById('envelope').classList.add('open');
            vib(80);
            confetti(15);
        }

        /* ======= COMPLIMENTS ======= */
        const compls = [
            "–¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤–∞—è! üíÉ",
            "–£ —Ç–µ–±—è –∑–æ–ª–æ—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ! üíõ",
            "–¢—ã –ª—É—á—à–∞—è –º–∞–º–∞ –Ω–∞ —Å–≤–µ—Ç–µ! üëë",
            "–¢–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî –ª—É—á—à–µ–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ! ‚òÄÔ∏è",
            "–¢—ã –≥–æ—Ç–æ–≤–∏—à—å –∫–∞–∫ –±–æ–≥–∏–Ω—è! üç∞",
            "–¢–µ–±–µ –∏–¥—ë—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å—ë! ‚ú®",
            "–¢—ã —Å–∏–ª—å–Ω–µ–µ —á–µ–º –¥—É–º–∞–µ—à—å! üí™",
            "–ú–∏—Ä —è—Ä—á–µ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–µ–±–µ! üåç",
            "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å! üåü",
            "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –≤—Å–µ–≥–æ –ª—É—á—à–µ–≥–æ! üåπ",
        ];

        function genCompl() {
            vib(40);
            const el = document.getElementById('complOut');
            el.style.opacity = '0';
            setTimeout(() => {
                el.textContent = compls[Math.floor(Math.random() * compls.length)];
                el.style.opacity = '1';
                confetti(8);
            }, 250);
        }

        /* ======= MAGIC BALL ======= */
        const preds = [
            "–≠—Ç–æ—Ç –≥–æ–¥ –±—É–¥–µ—Ç –ª—É—á—à–∏–º! ‚≠ê",
            "–¢–µ–±—è –∂–¥—ë—Ç —Å—é—Ä–ø—Ä–∏–∑! üéÅ",
            "–õ—é–±–æ–≤—å –æ–∫—Ä—É–∂–∏—Ç —Ç–µ–±—è! üíï",
            "–ú–µ—á—Ç—ã —Å–±—É–¥—É—Ç—Å—è! üåü",
            "–ó–¥–æ—Ä–æ–≤—å–µ –±—É–¥–µ—Ç –∫—Ä–µ–ø–∫–∏–º! üí™",
            "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —É–∂–µ –±–ª–∏–∑–∫–æ! ‚úàÔ∏è",
            "–£–¥–∞—á–∞ –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ! üçÄ",
            "–°—á–∞—Å—Ç—å–µ —Ä—è–¥–æ–º! üåà",
        ];

        function shakeBall() {
            vib(80);
            const ball = document.getElementById('mBall');
            const txt = document.getElementById('bText');
            ball.style.transform = 'scale(0.92)';
            txt.style.opacity = '0';
            setTimeout(() => {
                ball.style.transform = 'scale(1)';
                txt.textContent = preds[Math.floor(Math.random() * preds.length)];
                txt.style.opacity = '1';
            }, 450);
        }

        /* ======= CANDLES ======= */
        let blown = false;
        function blow() {
            if (blown) return;
            blown = true;
            vib([60, 30, 60, 30, 60]);
            ['fl1','fl2','fl3'].forEach((id, i) => {
                setTimeout(() => document.getElementById(id).classList.add('off'), i * 200);
            });
            setTimeout(() => confetti(30), 800);
        }

        /* ======= LOVE COUNTER ======= */
        function countUp() {
            const target = 9125;
            const el = document.getElementById('loveNum');
            let cur = 0;
            const step = Math.ceil(target / 70);
            const t = setInterval(() => {
                cur = Math.min(cur + step, target);
                el.textContent = cur.toLocaleString('ru-RU');
                if (cur >= target) clearInterval(t);
            }, 25);
        }

        const cObs = new IntersectionObserver(entries => {
            entries.forEach(e => {
                if (e.isIntersecting) { countUp(); cObs.disconnect(); }
            });
        }, { threshold: 0.5 });
        cObs.observe(document.getElementById('loveNum'));

        /* ======= SECRET PHOTO ‚Äî LONG PRESS ======= */
        const sBox = document.getElementById('secretBox');
        const hBar = document.getElementById('holdBar');
        const hTime = 2000;
        let hStart = 0, hRAF = null;

        function hDown(e) {
            e.preventDefault();
            if (sBox.classList.contains('open')) return;
            hStart = Date.now();
            hTick();
        }

        function hTick() {
            const pct = Math.min((Date.now() - hStart) / hTime * 100, 100);
            hBar.style.width = pct + '%';
            if (pct >= 100) {
                sBox.classList.add('open');
                vib([80, 40, 160]);
                confetti(25);
                return;
            }
            hRAF = requestAnimationFrame(hTick);
        }

        function hUp() {
            cancelAnimationFrame(hRAF);
            if (!sBox.classList.contains('open')) hBar.style.width = '0%';
        }

        sBox.addEventListener('touchstart', hDown, { passive: false });
        sBox.addEventListener('touchend', hUp);
        sBox.addEventListener('touchcancel', hUp);
        sBox.addEventListener('mousedown', hDown);
        sBox.addEventListener('mouseup', hUp);
        sBox.addEventListener('mouseleave', hUp);

        /* ======= BORIS BUTTON ‚Äî 5s delay after finale visible ======= */
        const borisWrap = document.getElementById('borisWrap');

        const bObs = new IntersectionObserver(entries => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    setTimeout(() => {
                        borisWrap.classList.add('visible');
                    }, 5000);
                    bObs.disconnect();
                }
            });
        }, { threshold: 0.5 });
        bObs.observe(document.getElementById('finaleSection'));

        /* ======= INITIAL CONFETTI ======= */
        window.addEventListener('load', () => {
            setTimeout(() => confetti(20), 600);
        });

        /* ======= PREVENT ZOOM ======= */
        document.addEventListener('gesturestart', e => e.preventDefault());
        let lt = 0;
        document.addEventListener('touchend', e => {
            const n = Date.now();
            if (n - lt <= 300) e.preventDefault();
            lt = n;
        }, false);
    </script>
</body>
</html>
